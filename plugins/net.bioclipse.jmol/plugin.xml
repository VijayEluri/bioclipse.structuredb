<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>

   <extension
         point="net.bioclipse.scripting.contribution">
      <scriptContribution
            id="net.bioclipse.jmol.business.JmolManager"
            service="net.bioclipse.jmol.business.JmolManagerFactory">
      </scriptContribution>
   </extension>



   <extension
         point="org.eclipse.ui.editors">
      <editor
            name="Jmol Editor"
          icon="icons/molecule3D.gif"
            contributorClass="net.bioclipse.jmol.editors.JmolEditorContributor"
            class="net.bioclipse.jmol.editors.JmolEditor"
            id="net.bioclipse.jmol.editors.JmolEditor">
            <contentTypeBinding
                  contentTypeId="net.bioclipse.contenttypes.pdb">
            </contentTypeBinding>
            <contentTypeBinding
                  contentTypeId="net.bioclipse.contenttypes.cml.molecule3d">
            </contentTypeBinding>
      </editor>
   </extension>

<extension point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
      <propertyContributor contributorId="net.bioclipse.jmol.views.outline.JmolContentOutlinePage">
			<propertyCategory category="Chain"/>
      </propertyContributor>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertyTabs">
      <propertyTabs contributorId="net.bioclipse.jmol.views.outline.JmolContentOutlinePage">
         <propertyTab
            category="Chain"
               id="jmol.ChainTab"
            label="Chain"/>
      </propertyTabs>
   </extension>

 <extension point="org.eclipse.ui.views.properties.tabbed.propertySections">
      <propertySections contributorId="net.bioclipse.jmol.views.outline.JmolContentOutlinePage">
         <propertySection
               class="net.bioclipse.jmol.views.properties.NameSection"
               id="jmol.NameSection"
               tab="jmol.ChainTab">
            <input type="net.bioclipse.jmol.views.outline.JmolChain"/>
         </propertySection>
         <propertySection
               afterSection="jmol.NameSection"
               class="net.bioclipse.jmol.views.properties.SequenceSection"
               id="jmol.SequenceSection"
               tab="jmol.ChainTab">
            <input type="net.bioclipse.jmol.views.outline.JmolChain"/>
         </propertySection>
         <!--propertySection
               afterSection="mview.LabelSection"
               class="mview.views.SizeSection"
               id="mview.SizeSection"
               tab="mview.ButtonTab">
            <input type="net.bioclipse.jmol.views.outline.JmolObject"/>
         </propertySection-->
      </propertySections>
   </extension>
 <extension
       point="org.eclipse.ui.views">
    <view
          allowMultiple="false"
          class="net.bioclipse.jmol.views.JmolView"
          icon="icons/molecule3D.gif"
          category="net.bioclipse.cdk.category"
          id="net.bioclipse.jmol.views.JmolView"
          name="Jmol">
    </view>
 </extension>

 <extension
       point="org.eclipse.ui.perspectiveExtensions"
       id="jmolPerspectiveExtension">
    <perspectiveExtension
          targetID="net.bioclipse.pcore.PcorePerspective">
          <view
                id="net.bioclipse.jmol.views.JmolView"
                relative="org.eclipse.ui.editorss"
                relationship="right"
                ratio="0.70">
          </view>
          <viewShortcut
                id="net.bioclipse.jmol.views.JmolView">
          </viewShortcut>
    </perspectiveExtension>
 </extension>

 <!--extension
       point="org.eclipse.core.runtime.contentTypes">
    <content-type
          id="net.bioclipse.jmol.contenttypes.cml"
          base-type="org.eclipse.core.runtime.xml"  
          name="CMLinJmol"
          priority="normal">
		 <describer class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber2">
    	    <parameter name="element" value="cml"/>
       	</describer>
    </content-type>
    <file-association
	    file-extensions="cml,xml"
        content-type="net.bioclipse.jmol.contenttypes.cml">
    </file-association>
 </extension-->

   
   
   <extension point = "org.eclipse.ui.popupMenus">
  <objectContribution
    id="net.bioclipse.jmol.pdbaction"
    objectClass="org.eclipse.core.resources.IFile"
    adaptable="true">
    <visibility>
        <objectState name="contentTypeId" 
		value="net.bioclipse.contenttypes.pdb"/>
    </visibility>
    <action id="net.bioclipse.jmol.actions.pdbaction"
      label="PDBAction"
      menubarPath="additions"
      class="net.bioclipse.jmol.actions.PdbAction"
      enablesFor="1">
    </action>
  </objectContribution>

  <objectContribution
    id="net.bioclipse.jmol.cmlaction"
    objectClass="org.eclipse.core.resources.IFile"
    adaptable="true">
    <visibility>
        <objectState name="contentTypeId" 
		value="net.bioclipse.contenttypes.cml.molecule2d"/>
    </visibility>
    <action id="net.bioclipse.jmol.actions.cmlaction"
      label="CMLAction2D"
      menubarPath="additions"
      class="net.bioclipse.jmol.actions.CmlAction"
      enablesFor="1">
    </action>
  </objectContribution>

  <objectContribution
    id="net.bioclipse.jmol.cmlaction"
    objectClass="org.eclipse.core.resources.IFile"
    adaptable="true">
    <visibility>
        <objectState name="contentTypeId" 
		value="net.bioclipse.contenttypes.cml.molecule3d"/>
    </visibility>
    <action id="net.bioclipse.jmol.actions.cmlaction"
      label="CMLAction3D"
      menubarPath="additions"
      class="net.bioclipse.jmol.actions.CmlAction"
      enablesFor="1">
    </action>
  </objectContribution>
</extension>

   
   
</plugin>
